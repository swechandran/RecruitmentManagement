
@model RecruitmentManagement.Models.CandidateApplication

@{
    ViewBag.Title = "Edit Application";
    Layout = "~/Views/Shared/UserLayout.cshtml";
}
@Styles.Render("~/Content/HRProject/Candidatecreatestyle.css")
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/additional-methods.min.js"></script>
<h4>Manage Application</h4>
<style>
    h4 {
        font-family: 'Poppins', sans-serif;
        padding-top: 14px;
        text-align: center;
    }
</style>
@using (Html.BeginForm("Edit", "User", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        @Html.LabelFor(model => model.CandidateName)
        @Html.TextBoxFor(model => model.CandidateName, new { @class = "form-control", placeholder = "Enter your name" })
        @Html.ValidationMessageFor(model => model.CandidateName, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Email)
        @Html.TextBoxFor(model => model.Email, new { @class = "form-control", placeholder = "Enter your email" })
        @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.PhoneNumber)
        @Html.TextBoxFor(model => model.PhoneNumber, new { @class = "form-control", placeholder = "Enter your phone number" })
        @Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.AppliedDate)
        @Html.TextBoxFor(model => model.AppliedDate, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
        @Html.ValidationMessageFor(model => model.AppliedDate, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Resume, "Upload Resume")
        <input type="file" name="resumeFile" class="form-control" />
        <p class="help-block">Upload a new resume file (PDF, DOC, DOCX).</p>
        @Html.ValidationMessageFor(model => model.Resume, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.HiddenFor(model => model.ApplicationID)
        @Html.HiddenFor(model => model.JobID)
        <input type="submit" value="Update Application" class="btn btn-primary" />
        <a href="@Url.Action("AppliedDetails", "User")" class="btn btn-secondary">Cancel</a>
    </div>
}
<script>
    $(document).ready(function () {

        $(".form").validate({
            rules: {
                CandidateName: {
                    required: true,
                    minlength: 3
                },
                Email: {
                    required: true,
                    email: true
                },
                PhoneNumber: {
                    required: true,
                    digits: true,
                    minlength: 10,
                    maxlength: 10
                },
                resumeFile: {
                    required: true,
                    extension: "pdf|doc|docx"
                },
                AppliedDate: {
                    required: true,
                    date: true
                }
            },
            messages: {
                CandidateName: {
                    required: "Please enter your name",
                    minlength: "Your name must be at least 3 characters long"
                },
                Email: {
                    required: "Please enter your email",
                    email: "Please enter a valid email address"
                },
                PhoneNumber: {
                    required: "Please enter your phone number",
                    digits: "Phone number must contain only digits",
                    minlength: "Phone number must be exactly 10 digits",
                    maxlength: "Phone number must be exactly 10 digits"
                },
                resumeFile: {
                    required: "Please upload your resume",
                    extension: "Only PDF, DOC, and DOCX files are allowed"
                },
                AppliedDate: {
                    required: "Please enter the application date",
                    date: "Please enter a valid date"
                }
            },
            // on blur
            onkeyup: false,
            onclick: false,
            onfocusout: function (element) {
                $(element).valid();
            }
        });
    });
</script>

@*@section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }*@

